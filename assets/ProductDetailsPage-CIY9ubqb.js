import{$ as O,d as A,u as D,e as M,a as R,f as U,r as n,j as e,L as B,a0 as $,m as _,E as q,t as i,a1 as H,a2 as Q,a3 as G,a4 as J,s as K,a5 as V,H as X}from"./index-BU8pF24o.js";import{g as Y}from"./products-CS76voM8.js";const re=()=>{const{id:x}=O(),u=A(),{currentLanguage:s}=D(),{isDarkMode:t}=M(),{addToCart:C}=R(),{wishlistItems:S,addToWishlist:P,removeFromWishlist:F}=U(),[r,f]=n.useState(null),[z,j]=n.useState(!0),[v,c]=n.useState(null),[m,E]=n.useState(0),[w,h]=n.useState(""),[N,y]=n.useState(""),[g,k]=n.useState(1);n.useEffect(()=>{x&&(async()=>{try{j(!0),c(null);const l=parseInt(x,10),d=Y(l);if(d)f(d),d.colors&&d.colors.length>0&&y(d.colors[0]),d.sizes&&d.sizes.length>0&&h(d.sizes[0]);else try{const o=await X.get(`/api/products/${l}`);o.data.success?(f(o.data.product),o.data.product.colors&&o.data.product.colors.length>0&&y(o.data.product.colors[0]),o.data.product.sizes&&o.data.product.sizes.length>0&&h(o.data.product.sizes[0])):c("Product not found")}catch{c("Product not found")}}catch{c("Failed to load product")}finally{j(!1)}})()},[x]);const T=()=>{if(!r)return;const a={...r,size:w,color:N};C(a,g)},p=r&&S.some(a=>a.id===r.id||a._id===r._id),I=()=>{r&&(p?F(r.id||r._id):P(r))},W=()=>{r&&u("/try-on",{state:{selectedClothing:r.image}})},b=(r==null?void 0:r.images)||(r!=null&&r.image?[r.image]:[]);if(z)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t?"border-primary-light":"border-primary-dark"}`})});if(v||!r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:`text-center rounded-2xl shadow-lg p-8 ${t?"bg-gray-800/50 backdrop-blur-md border border-gray-700/50":"bg-white/50 backdrop-blur-md border border-gray-200/50"}`,children:[e.jsx("h2",{className:`text-2xl font-bold mb-4 ${t?"text-white":"text-gray-900"}`,children:v||"Product Not Found"}),e.jsx("p",{className:`mb-6 ${t?"text-gray-400":"text-gray-600"}`,children:"The product you're looking for doesn't exist or has been removed."}),e.jsxs(B,{to:"/shop",className:`inline-flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg ${t?"bg-gradient-to-r from-primary-dark to-primary-light hover:from-primary-light hover:to-primary-dark text-white":"bg-gradient-to-r from-primary-light to-primary-dark hover:from-primary-dark hover:to-primary-light text-white"}`,children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Shop"})]})]})});const L={white:"bg-white border border-gray-200",black:"bg-black",grey:"bg-gray-500",blue:"bg-blue-500",navy:"bg-blue-800",red:"bg-red-500",green:"bg-green-500",yellow:"bg-yellow-400",purple:"bg-purple-500",pink:"bg-pink-400",orange:"bg-orange-500",brown:"bg-amber-700",beige:"bg-amber-100",floral:"bg-gradient-to-r from-pink-300 via-green-200 to-blue-300",denim:"bg-blue-700"};return e.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:()=>u(-1),className:`flex items-center space-x-2 mb-6 px-4 py-2 rounded-xl transition-all duration-200 ${t?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-2xl shadow-lg overflow-hidden ${t?"bg-gray-800/50":"bg-white/50"}`,children:e.jsx(_.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},src:b[m]||r.image,alt:r.name,className:"w-full h-[600px] object-cover"},m)}),b.length>1&&e.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:b.map((a,l)=>e.jsx("button",{onClick:()=>E(l),className:`flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden border-2 transition-all duration-200 ${m===l?t?"border-primary-light ring-2 ring-primary-light":"border-primary-dark ring-2 ring-primary-dark":t?"border-gray-700 hover:border-gray-600":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("img",{src:a,alt:`${r.name} ${l+1}`,className:"w-full h-full object-cover"})},l))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm font-medium uppercase tracking-wider ${t?"text-gray-400":"text-gray-500"}`,children:r.category||"Uncategorized"}),e.jsxs("div",{className:"flex space-x-2",children:[r.isNew&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t?"bg-gradient-to-r from-primary-dark to-primary-light text-white":"bg-gradient-to-r from-primary-light to-primary-dark text-white"}`,children:"NEW"}),r.isFeatured&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t?"bg-yellow-500/20 text-yellow-400":"bg-yellow-100 text-yellow-800"}`,children:"FEATURED"})]})]}),e.jsx("h1",{className:`text-3xl md:text-4xl font-bold ${t?"text-white":"text-gray-900"}`,children:r.name}),r.rating&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(a=>e.jsx(q,{className:`w-5 h-5 ${a<=Math.round(r.rating)?"fill-current":"text-gray-300"}`},a))}),e.jsxs("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:["(",r.reviewCount||0," ",i("product.reviews",s)||"reviews",")"]})]}),e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsxs("span",{className:`text-4xl font-bold ${t?"text-primary-light":"text-primary-dark"}`,children:["$",typeof r.price=="number"?r.price.toFixed(2):"0.00"]}),r.originalPrice&&r.originalPrice>r.price&&e.jsxs("span",{className:`text-xl line-through ${t?"text-gray-500":"text-gray-400"}`,children:["$",r.originalPrice.toFixed(2)]})]}),r.description&&e.jsx("div",{className:`rounded-xl p-4 ${t?"bg-gray-800/30":"bg-gray-50"}`,children:e.jsx("p",{className:`text-sm leading-relaxed ${t?"text-gray-300":"text-gray-700"}`,children:r.description})}),r.sizes&&r.sizes.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:i("product.size",s)||"Size"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.sizes.map(a=>e.jsx("button",{onClick:()=>h(a),className:`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${w===a?t?"bg-gradient-to-r from-primary-dark to-primary-light text-white shadow-md":"bg-gradient-to-r from-primary-light to-primary-dark text-white shadow-md":t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-white border-2 border-gray-200 text-gray-700 hover:border-gray-300"}`,children:a},a))})]}),r.colors&&r.colors.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:i("product.color",s)||"Color"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.colors.map(a=>e.jsx("button",{onClick:()=>y(a),className:`w-12 h-12 rounded-xl border-2 transition-all duration-200 ${L[a]||"bg-gray-200"} ${N===a?t?"ring-4 ring-primary-light":"ring-4 ring-primary-dark":t?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,title:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:i("product.quantity",s)||"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>k(Math.max(1,g-1)),className:`w-10 h-10 rounded-xl font-semibold transition-all duration-200 ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"-"}),e.jsx("span",{className:`text-lg font-semibold w-12 text-center ${t?"text-white":"text-gray-900"}`,children:g}),e.jsx("button",{onClick:()=>k(g+1),className:`w-10 h-10 rounded-xl font-semibold transition-all duration-200 ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"+"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:T,className:`flex-1 py-4 px-6 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center justify-center space-x-2 ${t?"bg-gradient-to-r from-primary-dark to-primary-light hover:from-primary-light hover:to-primary-dark text-white":"bg-gradient-to-r from-primary-light to-primary-dark hover:from-primary-dark hover:to-primary-light text-white"}`,children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:i("product.addToCart",s)||"Add to Cart"})]}),e.jsx("button",{onClick:I,className:`w-14 h-14 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center ${p?t?"bg-red-500/20 text-red-400 border-2 border-red-500/50":"bg-red-50 text-red-600 border-2 border-red-200":t?"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-gray-900"}`,children:e.jsx(Q,{className:`w-5 h-5 ${p?"fill-current":""}`})}),e.jsx("button",{onClick:W,className:`w-14 h-14 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center ${t?"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-gray-900"}`,title:i("product.tryOnThis",s)||"Try On",children:e.jsx(G,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:`rounded-2xl shadow-lg p-6 ${t?"bg-gray-800/50 backdrop-blur-md border border-gray-700/50":"bg-white/50 backdrop-blur-md border border-gray-200/50"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${t?"bg-gradient-to-br from-primary-dark to-primary-light":"bg-gradient-to-br from-primary-light to-primary-dark"}`,children:e.jsx(J,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:i("product.freeShipping",s)||"Free Shipping"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:i("product.onOrdersOver",s)||"On orders over $50"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${t?"bg-gradient-to-br from-primary-dark to-primary-light":"bg-gradient-to-br from-primary-light to-primary-dark"}`,children:e.jsx(K,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:i("product.easyReturns",s)||"Easy Returns"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:i("product.within30Days",s)||"Within 30 days"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${t?"bg-gradient-to-br from-primary-dark to-primary-light":"bg-gradient-to-br from-primary-light to-primary-dark"}`,children:e.jsx(V,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:i("product.securePayment",s)||"Secure Payment"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:i("product.encrypted",s)||"100% Encrypted"})]})]})]})})]})]})]})})};export{re as default};
