import{Y as M,c as R,u as U,d as _,e as B,f as q,r as l,j as e,L as Q,Z as S,m as C,z as H,t as o,$ as J,a0 as Y,a1 as Z,A as G,a2 as K,a3 as V,n as X,a4 as ee,B as re}from"./index-04pfWkt-.js";const se=()=>{const{id:n}=M(),p=R(),{currentLanguage:i}=U(),{isDarkMode:r}=_(),{addToCart:P}=B(),{wishlistItems:F,addToWishlist:T,removeFromWishlist:z}=q(),[t,b]=l.useState(null),[E,u]=l.useState(!0),[f,j]=l.useState(null),[g,A]=l.useState(0),[v,x]=l.useState(""),[w,m]=l.useState(""),[c,N]=l.useState(1),[O,k]=l.useState(!1);l.useEffect(()=>{n&&(async()=>{try{u(!0);try{const s=await re.get(`/api/products/${n}`);s.data.success&&(b(s.data.product),s.data.product.colors&&s.data.product.colors.length>0&&m(s.data.product.colors[0]),s.data.product.sizes&&s.data.product.sizes.length>0&&x(s.data.product.sizes[0]))}catch{const d=JSON.parse(localStorage.getItem("products")||"[]").find($=>$.id===n||$._id===n);d?(b(d),d.colors&&d.colors.length>0&&m(d.colors[0]),d.sizes&&d.sizes.length>0&&x(d.sizes[0])):j("Product not found")}}catch{j("Failed to load product")}finally{u(!1)}})()},[n]);const W=()=>{if(!t)return;const a={...t,selectedSize:v,selectedColor:w,quantity:c};P(a),k(!0),setTimeout(()=>k(!1),3e3)},h=t&&F.some(a=>a.id===t.id||a._id===t._id),I=()=>{t&&(h?z(t.id||t._id):T(t))},L=()=>{t&&p("/try-on",{state:{selectedClothing:t.image}})},y=(t==null?void 0:t.images)||(t!=null&&t.image?[t.image]:[]);if(E)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${r?"border-primary-light":"border-primary-dark"}`})});if(f||!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:`text-center rounded-2xl shadow-lg p-8 ${r?"bg-gray-800/50 backdrop-blur-md border border-gray-700/50":"bg-white/50 backdrop-blur-md border border-gray-200/50"}`,children:[e.jsx("h2",{className:`text-2xl font-bold mb-4 ${r?"text-white":"text-gray-900"}`,children:f||"Product Not Found"}),e.jsx("p",{className:`mb-6 ${r?"text-gray-400":"text-gray-600"}`,children:"The product you're looking for doesn't exist or has been removed."}),e.jsxs(Q,{to:"/shop",className:`inline-flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg ${r?"bg-gradient-to-r from-primary-dark to-primary-light hover:from-primary-light hover:to-primary-dark text-white":"bg-gradient-to-r from-primary-light to-primary-dark hover:from-primary-dark hover:to-primary-light text-white"}`,children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Shop"})]})]})});const D={white:"bg-white border border-gray-200",black:"bg-black",grey:"bg-gray-500",blue:"bg-blue-500",navy:"bg-blue-800",red:"bg-red-500",green:"bg-green-500",yellow:"bg-yellow-400",purple:"bg-purple-500",pink:"bg-pink-400",orange:"bg-orange-500",brown:"bg-amber-700",beige:"bg-amber-100",floral:"bg-gradient-to-r from-pink-300 via-green-200 to-blue-300",denim:"bg-blue-700"};return e.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:()=>p(-1),className:`flex items-center space-x-2 mb-6 px-4 py-2 rounded-xl transition-all duration-200 ${r?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-2xl shadow-lg overflow-hidden ${r?"bg-gray-800/50":"bg-white/50"}`,children:e.jsx(C.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},src:y[g]||t.image,alt:t.name,className:"w-full h-[600px] object-cover"},g)}),y.length>1&&e.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:y.map((a,s)=>e.jsx("button",{onClick:()=>A(s),className:`flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden border-2 transition-all duration-200 ${g===s?r?"border-primary-light ring-2 ring-primary-light":"border-primary-dark ring-2 ring-primary-dark":r?"border-gray-700 hover:border-gray-600":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("img",{src:a,alt:`${t.name} ${s+1}`,className:"w-full h-full object-cover"})},s))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm font-medium uppercase tracking-wider ${r?"text-gray-400":"text-gray-500"}`,children:t.category||"Uncategorized"}),e.jsxs("div",{className:"flex space-x-2",children:[t.isNew&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${r?"bg-gradient-to-r from-primary-dark to-primary-light text-white":"bg-gradient-to-r from-primary-light to-primary-dark text-white"}`,children:"NEW"}),t.isFeatured&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${r?"bg-yellow-500/20 text-yellow-400":"bg-yellow-100 text-yellow-800"}`,children:"FEATURED"})]})]}),e.jsx("h1",{className:`text-3xl md:text-4xl font-bold ${r?"text-white":"text-gray-900"}`,children:t.name}),t.rating&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(a=>e.jsx(H,{className:`w-5 h-5 ${a<=Math.round(t.rating)?"fill-current":"text-gray-300"}`},a))}),e.jsxs("span",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:["(",t.reviewCount||0," ",o("product.reviews",i)||"reviews",")"]})]}),e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsxs("span",{className:`text-4xl font-bold ${r?"text-primary-light":"text-primary-dark"}`,children:["$",typeof t.price=="number"?t.price.toFixed(2):"0.00"]}),t.originalPrice&&t.originalPrice>t.price&&e.jsxs("span",{className:`text-xl line-through ${r?"text-gray-500":"text-gray-400"}`,children:["$",t.originalPrice.toFixed(2)]})]}),t.description&&e.jsx("div",{className:`rounded-xl p-4 ${r?"bg-gray-800/30":"bg-gray-50"}`,children:e.jsx("p",{className:`text-sm leading-relaxed ${r?"text-gray-300":"text-gray-700"}`,children:t.description})}),t.sizes&&t.sizes.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:o("product.size",i)||"Size"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:t.sizes.map(a=>e.jsx("button",{onClick:()=>x(a),className:`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${v===a?r?"bg-gradient-to-r from-primary-dark to-primary-light text-white shadow-md":"bg-gradient-to-r from-primary-light to-primary-dark text-white shadow-md":r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-white border-2 border-gray-200 text-gray-700 hover:border-gray-300"}`,children:a},a))})]}),t.colors&&t.colors.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:o("product.color",i)||"Color"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(a=>e.jsx("button",{onClick:()=>m(a),className:`w-12 h-12 rounded-xl border-2 transition-all duration-200 ${D[a]||"bg-gray-200"} ${w===a?r?"ring-4 ring-primary-light":"ring-4 ring-primary-dark":r?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,title:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:o("product.quantity",i)||"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>N(Math.max(1,c-1)),className:`w-10 h-10 rounded-xl font-semibold transition-all duration-200 ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"-"}),e.jsx("span",{className:`text-lg font-semibold w-12 text-center ${r?"text-white":"text-gray-900"}`,children:c}),e.jsx("button",{onClick:()=>N(c+1),className:`w-10 h-10 rounded-xl font-semibold transition-all duration-200 ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"+"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:W,className:`flex-1 py-4 px-6 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center justify-center space-x-2 ${r?"bg-gradient-to-r from-primary-dark to-primary-light hover:from-primary-light hover:to-primary-dark text-white":"bg-gradient-to-r from-primary-light to-primary-dark hover:from-primary-dark hover:to-primary-light text-white"}`,children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{children:o("product.addToCart",i)||"Add to Cart"})]}),e.jsx("button",{onClick:I,className:`w-14 h-14 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center ${h?r?"bg-red-500/20 text-red-400 border-2 border-red-500/50":"bg-red-50 text-red-600 border-2 border-red-200":r?"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-gray-900"}`,children:e.jsx(Y,{className:`w-5 h-5 ${h?"fill-current":""}`})}),e.jsx("button",{onClick:L,className:`w-14 h-14 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center ${r?"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-gray-900"}`,title:o("product.tryOnThis",i)||"Try On",children:e.jsx(Z,{className:"w-5 h-5"})})]})}),e.jsx(G,{children:O&&e.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`rounded-xl p-4 flex items-center space-x-3 ${r?"bg-green-900/20 border border-green-500/50":"bg-green-50 border border-green-200"}`,children:[e.jsx(K,{className:`text-xl ${r?"text-green-400":"text-green-600"}`}),e.jsx("span",{className:`font-medium ${r?"text-green-300":"text-green-800"}`,children:o("product.addedToCart",i)||"Added to cart successfully!"})]})}),e.jsx("div",{className:`rounded-2xl shadow-lg p-6 ${r?"bg-gray-800/50 backdrop-blur-md border border-gray-700/50":"bg-white/50 backdrop-blur-md border border-gray-200/50"}`,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${r?"bg-gradient-to-br from-primary-dark to-primary-light":"bg-gradient-to-br from-primary-light to-primary-dark"}`,children:e.jsx(V,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${r?"text-white":"text-gray-900"}`,children:o("product.freeShipping",i)||"Free Shipping"}),e.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:o("product.onOrdersOver",i)||"On orders over $50"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${r?"bg-gradient-to-br from-primary-dark to-primary-light":"bg-gradient-to-br from-primary-light to-primary-dark"}`,children:e.jsx(X,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${r?"text-white":"text-gray-900"}`,children:o("product.easyReturns",i)||"Easy Returns"}),e.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:o("product.within30Days",i)||"Within 30 days"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${r?"bg-gradient-to-br from-primary-dark to-primary-light":"bg-gradient-to-br from-primary-light to-primary-dark"}`,children:e.jsx(ee,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${r?"text-white":"text-gray-900"}`,children:o("product.securePayment",i)||"Secure Payment"}),e.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:o("product.encrypted",i)||"100% Encrypted"})]})]})]})})]})]})]})})};export{se as default};
